include (CTest)
INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/src" "${PROJECT_BINARY_DIR}" "${VTK_INCLUDE_DIRS}" "${Kokkos_ROOT}/include")

get_property(cxx_features GLOBAL PROPERTY CMAKE_CXX_KNOWN_FEATURES)
set(CMAKE_CXX_COMPILE_FEATURES ${cxx_features})
set(GLOBAL PROPERTY CMAKE_C_COMPILE_FEATURES ${cxx_features})

ADD_EXECUTABLE(lpmGeomTest LpmGeometryUnitTests.cpp)
SET_TARGET_PROPERTIES(lpmGeomTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
TARGET_LINK_LIBRARIES(lpmGeomTest lpmkokkos ${Kokkos_LIBRARIES})
ADD_TEST(lpmGeom lpmGeomTest)

ADD_EXECUTABLE(lpmCoordsTest LpmCoordsUnitTest.cpp)
SET_TARGET_PROPERTIES(lpmCoordsTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
TARGET_LINK_LIBRARIES(lpmCoordsTest lpmkokkos ${Kokkos_LIBRARIES})
ADD_TEST(lpmCoords lpmCoordsTest)

ADD_EXECUTABLE(lpmEdgesTest LpmEdgesUnitTest.cpp)
SET_TARGET_PROPERTIES(lpmEdgesTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
TARGET_LINK_LIBRARIES(lpmEdgesTest lpmkokkos ${Kokkos_LIBRARIES})
ADD_TEST(lpmEdges lpmEdgesTest)

ADD_EXECUTABLE(lpmFacesTest LpmFacesUnitTests.cpp)
SET_TARGET_PROPERTIES(lpmFacesTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
TARGET_LINK_LIBRARIES(lpmFacesTest lpmkokkos ${Kokkos_LIBRARIES} ${VTK_LIBRARIES})
ADD_TEST(lpmFaces lpmFacesTest)

#ADD_EXECUTABLE(lpmMeshSeedTest LpmMeshSeedUnitTest.cpp)
#SET_TARGET_PROPERTIES(lpmMeshSeedTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
#TARGET_LINK_LIBRARIES(lpmMeshSeedTest lpmkokkos ${Kokkos_LIBRARIES})
#ADD_TEST(lpmMeshSeed lpmMeshSeedTest)
#
#ADD_EXECUTABLE(lpmPolyMeshTest LpmPolyMeshTest.cpp)
#SET_TARGET_PROPERTIES(lpmPolyMeshTest PROPERTIES COMPILE_FLAGS "${LPM_CXXFLAGS}" LINK_FLAGS "${LPM_LDFLAGS}")
#TARGET_LINK_LIBRARIES(lpmPolyMeshTest lpmkokkos ${Kokkos_LIBRARIES} ${VTK_LIBRARIES})
#ADD_TEST(lpmPolyMeshTest lpmMeshSeedTest)